%!TEX root = thesis.tex

\chapter{Background}
\label{chapter:background} 

Also known as ``literature review''/``Kirjallisuuskatsaus''. About 20 pages long.

In order to build an efficient framework for visualizing geographical data, it is needed to study (a) how to visualize geodata and (b) how to build frameworks. We are going to tackle this problem by first studying the basics of data visualization with an emphasis on geographical data, maps and the visualization process. After visualization, we are going to study the essence of software reuse, focusing on building and evaluating reusable software, also known as software frameworks.

\section{Data Visualization}

\subsection{Definition}

According to \citet[chap.~3]{kosara_visualization_2007}, there is no universally accepted definition of visualization. He proposes the following for a ``minimal set of requirements for any visualization'':

\begin{itemize}
	\item It is based on (non-visual) data
	\item It produces an image
	\item The results are readable and recognizable
\end{itemize}

According to him, while visualizations can also have other properties or qualities, such as interaction or visual efficiency, the requirements above are the ones needed for technical definition of the term. Moreover, it should be emphasized that according to this definition, visualization is the \emph{process} itself, not the result of it.

\citet[chap.~4]{kosara_visualization_2007} argues that visualization is separated into two types, \emph{pragmatic} and \emph{artistic} visualization. Pragmatic visualization focuses on the analysis of the data in order to show its relevant characteristics as efficiently as possible. Artistic visualization on the other hand concentrates on the communication of the concern behind the data, not the display of the actual data. \citeauthor{kosara_visualization_2007} states that while these types focus on the opposite sides of the visualization spectrum, it may be possible to close the gap using e.g. interaction.

The first requirement for visualizations by \citet{kosara_visualization_2007} dictates that the visualization is based on data. This is an essential characteristic of \emph{data} visualizations: the visualization is a function which takes data as an input and produces a visual object as an output. In less technical terms, this means that the visualization turns data into visual, effortlessly and efficiently digestible format.

We argue that this leads to the fact that the data and visualization are not inherently tied to each other; the visualization ``function'' can be independent of the data and thus it may be possible to create a visualization framework or platform which is able to function on a potentially wide range of data.

\fixme{The goal of visualization is (usually) better understanding of the data.}

% This may need to moved to Thematic Map Visualization part:
% ``As this thesis concentrates on the display of data, the analysis of data is considered mainly outside the scope.''

\subsection{Principles for Successful Data Visualization}

The requirements presented in the previous section are sufficient for the definition of data visualization. However, they do not convey any information about visualization quality. In order to discover the characteristics for successful data visualization, additional principles are needed. \citet[p.~13]{tufte_visual_1986} states that excellent graphics (i.e. results of visualizations) consist of ``complex ideas communicated with clarity, precision and efficiency''. In practice, this means that the graphics should emphasize the actual data and its nuances above everything else, while serving a clear purpose.

In addition to graphics principles presented in the previous paragraph, \citet[p.~93]{tufte_visual_1986} presents the concept of \emph{data-ink}. Data-ink represents the ink used for displaying the data in a visualization. He argues that in an excellent visualization, most, if not all, ink used should contribute to display of the data. However, research by \citet{inbar_minimalism_2007} suggests that maximizing the share of data-ink may not be beneficial to the user experience of the visualization. 

The principles presented above are essential, but too abstract in order to be used as a sole basis for defining a good visualization. However, when combined with the data visualization definition stated above, the principles become considerably more useful and concrete. \citet{azzam_j-b_2013} propose an adapted version of the definition by \citet{kosara_visualization_2007}, complementing the second requirement by requiring the produced image to represent the data truthfully. We argue that this definition in effect combines the definition by \citet{kosara_visualization_2007} with the principle of showing data introduced by \citet{tufte_visual_1986}. The adapted definition facilitates the process of creating a successful data visualizations by offering a more concrete version of Tufte's principles. It gives the developer of the visualization a concrete checklist for representing the data: make sure it does not (a) omit or (b)  overrepresent any information \citep{azzam_j-b_2013}.

% \fixme{This section could really use some more content}

\fixme{If desperately in need of more background, add human perception in relation to information visualization (from Ware).}

\subsection{Visualizing Geographical Data}

The most natural way of visualizing geographical data is by using a map\citep[chap.~1]{kraak_cartography_2011}. This technique is called \emph{thematic mapping} \citep[chap.~1]{slocum_thematic_2014}. Thematic mapping does not require any specific format of data, except for the geographical dimension \citep[chap.~1]{kraak_cartography_2011}. However, the nature of the data has a great effect on the method, or type, of thematic mapping.

\subsubsection{Methods for Thematic Mapping}

As stated above, there are several types of geographical data, many of which are fundamentally different requiring different visualization methods. Therefore, several different thematic mapping methods have been developed. \citet[chap.~14-18]{slocum_thematic_2014} list some of the most typical ones: \fixme{rephrase the descriptions below}

\begin{itemize}
	\item Choropleth map - Shows data aggregated for a set of predefined areas (countries, regions etc)
	\item Isarithmic map - Maps with areas separated by contour lines.
	\item Dasymetric map - \fixme{what's this?}
	\item Proportional symbol map - like dot map, but replaces dots with relevant symbols of sizes proportional to the data
	\item Dot map - simple maps with dots on relevant locations
	\item Multivariate mapping - A map that shows data of several dimensions (in addition to location).
	\item Flow map - a map that shows ``flows'' from one area to another. Napoleon Russian campaign map.
\end{itemize}

When designing a software framework for geovisualization, it is not necessary to support every method above. However, as those are some of the most used ones, omitting any must be a conscious decision.

\fixme{describe the use cases for each type}

\subsubsection{To Do}
\begin{itemize}
	\item Geographic visualization (e.g. in relation to scientific visualization)
	\item Map visualization vs. map (thematic map vs general-reference map) \citep{bartz_petchenik_place_1979}
	\item How do the principles introduced in the previous subsection apply to geographical data? Is there anything else to consider?
	\item Thematic map interactivity \citep{andrienko_interactive_1999} (Where should this go? Is this an env related thing or here somewhere)
\end{itemize}

\citet[p.~16]{tufte_visual_1986} May help here as well.

For this thesis to succeed, it is not necessary for the software framework to support creating every map type described above especially if properties of the types contradict with each other. However, in an ideal situation the most often used types should be covered to gain the most benefit possible. \fixme{Rephrase. Not ``for this thesis...'' but ``For a map visualization...''}

Even a single thematic map is often used for multiple different purposes \citep[chap.~2]{schlichtmann_visualization_2002}. For instance, a single map can be read on the \emph{overall level} (``where are the primary schools located in Helsinki metropolitan area?'') and \emph{elementary level} (``is there a primary school in Punavuori?''). Furthermore, some possible uses for a thematic map are ``what is the ratio and distribution of Finnish schools compared to Swedish schools in Helsinki'' or ``what is the spatial distribution of sizes of schools in Helsinki''. Therefore, an efficient map visualization should not lock the user to any single perspective. \fixme{maybe move somewhere? Create a separate (sub)section for interactivity?} \fixme{Interactivity could help here? See \citep{andrienko_interactive_1999}}

\fixme{Analysis part of geovisualization - ``...is considered out of the scope of this work.''}

\section{How Thematic Maps Are Made}
\citet{schlichtmann_visualization_2002} describes making thematic maps as a six-step process. The first four steps involve deciding on and obtaining the data which are not relevant when building a software framework for visualization. Therefore, we ignore those steps. The step five consists of selecting the visualization method and using it to produce a meaningful visualization from the data. The step six involves explaining the visualization in legend. \fixme{Schlichtmann not concerned with the step 6, find some other source of displaying the legend.}

In the map visualization process, several identified objectives for the resulting graphic exist \citep{schlichtmann_visualization_2002}. The objectives are presented in the table below.

\LTcapwidth=\textwidth
\begin{longtable}{|p{3cm}|p{10cm}|}
\hline
\textbf{Name} & \textbf{Description} \\ 
\hline
Clarification & Making the map clear and readable. In practice, this means that the topemes (symbols) in a map should be easily detectable and distinguishable from each other \\
\hline
Emphasis & Making topemes and other important characteristics of the visualization to stand out visually \\
\hline
Types of Entries & Having a clearly distinguishable type for each topeme. \\
\hline
Sets of Types & Grouping data points and symbols with similar traits in order to make them belong together visually. Ideally, the visual similarity should be related to the conceptual similarity. \\
\hline
Cross-Relations & Visually indicating the potential relations and similarities between different types or between entries of different types. \\
\hline
Local Syntax & Aligning visual properties of the topemes to prevent unintentional emphasis of single topemes. \\
\hline
Local Ensembles & Supporting topemes with multiple properties (such as the numbers of children and adults in an area) so that the topeme visually reflect both the individual properties and the combination of all properties. \\
\hline
Multilocal Ensembles & Supporting topemes with multiple geographical properties (such as spatial distribution of people)  \\
\hline
Addable and Non-Addable Quantities & Differentiating addable and non-addable properties. Typically absolute quantitative properties are addable while relative and qualitative properties are non-addable. Addable properties should be visualized in a way that cognitively supports addition (e.g. with sizes of elements) while non-addable quantities should be visualized without said feature (e.g. with colors.) \\
\hline
The Surface Illusion & Creating an illusion of surface on the map. This can be achieved for example by using illumination and shadowing. These visual traits can convey a meaning themselves and often naturally do so. \\
\hline
\caption{Map visualization objectives as per \citet{schlichtmann_visualization_2002}}
\end{longtable}

The objectives above are important when visualizing geographical data on a map. Therefore, it is needed to take those into account when creating a visualization tool or framework in order to enable or even encourage the visualizers to reach as many of the objectives as possible.

\fixme{This could use an opinion from some other source as well (Maybe \citep[p.~5]{slocum_thematic_2014})}

\section{Web Software Frameworks}

What is a software framework? Why do they exist? Maybe how to build them?

\section{Evaluating software framework effectiveness}

Here should be the whole research on how to measure if it is beneficial to reuse software instead of writing from scratch.
